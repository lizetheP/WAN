----------------------------------
router ISP1
----------------------------------
en
config t

hostname ISP1

interface Lo0
description ISP1 Internet Network
ip address 10.1.1.1 255.255.255.0
exit

interface Serial0/0/0
description ISP1 -> ITA
ip address 10.0.0.1 255.255.255.252
clock rate 128000
no shutdown
end

router bgp 200
neighbor 10.0.0.2 remote-as 100
network 10.1.1.0 mask 255.255.255.0

----------------------------------
router ISP2
----------------------------------
en
config t

hostname ISP2

interface Lo0
description ISP2 Internet Network
ip address 172.16.1.1 255.255.255.0
exit

interface Serial0/0/1
description ISP2 -> ITA
ip address 172.16.0.1 255.255.255.252
no shutdown
end

router bgp 300
neighbor 172.16.0.2 remote-as 100
network 172.16.1.0 mask 255.255.255.0

----------------------------------
router ITA boundary router
----------------------------------
en
config t

hostname ITA

interface Lo0
description Core router network link 1
ip address 192.168.0.1 255.255.255.0
exit

interface Lo1
description Core router network link 2
ip address 192.168.1.1 255.255.255.0
exit

interface Serial0/0/0
description ITA -> ISP1
ip address 10.0.0.2 255.255.255.252
no shutdown
exit

interface Serial0/0/1
description ITA -> ISP2
ip address 172.16.0.2 255.255.255.252
clock rate 128000
no shutdown

router bgp 100
neighbor 10.0.0.1 remote-as 200
neighbor 172.16.0.1 remote-as 300
network 192.168.0.0 mask 255.255.255.0
network 192.168.1.0 mask 255.255.255.0

end
------------------------------------------
Script Tcl

tclsh

foreach address {
10.0.0.1
10.0.0.2
10.1.1.1
172.16.0.1
172.16.0.2
172.16.1.1
192.168.0.1
192.168.1.1
} {
ping $address }

